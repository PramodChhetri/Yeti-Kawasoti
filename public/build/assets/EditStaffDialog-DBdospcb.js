import{W as b,r as y,j as e,b as C}from"./app-CeHawWK7.js";import{B as D}from"./button-CBFDvSSe.js";import{I as o}from"./input-iG9gLFRb.js";import{L as a}from"./label-DZHSVrJR.js";import{S as p,a as m,b as x,c as j,e as u,d as n}from"./select-CrO88sMk.js";import{S as F,b as _,c as E,d as G,e as L}from"./sheet-BX0QfvEQ.js";import{t as g}from"./use-toast-TciExXPv.js";import{b as M}from"./utils-CRrpu23W.js";import{h as O}from"./moment-Cl4UOzQZ.js";import"./index-Clynsdhc.js";import"./index-Bb4qSo10.js";import"./index-B_ku7PSA.js";import"./index-DD1TA57H.js";import"./index-JWIwkwlr.js";import"./index-BBHitacn.js";import"./index-C9wzw3Ty.js";import"./createLucideIcon-T09ZsU69.js";import"./check-U2lRsC70.js";import"./index-DmAnl5gc.js";import"./x-CcTwlrmH.js";const P=({refetch:v,official:s,onClose:d})=>{const{data:i,setData:r,reset:f}=b({name:s.name,phone:s.phone,photo:null,gender:s.gender,joining_date:O(s.joining_date).format("YYYY-MM-DD"),is_active:1,position:s.position,dob:s.dob});console.log(s);const[h,c]=y.useState(!1),S=t=>{t.preventDefault(),c(!0),C.post(`/staffs/${s.id}`,i,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{g({description:"Staff updated successfully"}),f(),v(),d()}).catch(l=>{g({description:"Failed to update staff"})}).finally(()=>{c(!1)})};return e.jsx(F,{open:!0,onOpenChange:d,children:e.jsxs(_,{children:[e.jsxs(E,{children:[e.jsx(G,{children:"Edit Staff"}),e.jsx(L,{children:"Customize the staff as per your choice"})]}),e.jsxs("form",{className:"space-y-2",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(o,{type:"text",id:"name",value:i.name,onChange:t=>r("name",M(t.target.value))})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"phone",children:"Phone"}),e.jsx(o,{type:"tel",id:"phone",value:i.phone,onChange:t=>r("phone",t.target.value),maxLength:10,minLength:10})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(a,{htmlFor:"photo",children:"Photo"}),e.jsx("span",{className:"text-muted-foreground text-xs font-bold",children:"Leave as it is to keep unchanged"})]}),e.jsx(o,{type:"file",id:"photo",accept:"image/*",onChange:t=>{var l;(l=t.target.files)!=null&&l.length?r("photo",t.target.files[0]):r("photo",null)}})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"gender",children:"Gender"}),e.jsxs(p,{defaultValue:s.gender,onValueChange:t=>r("gender",t),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select a Gender"})}),e.jsx(j,{children:e.jsxs(u,{children:[e.jsx(n,{value:"male",children:"Male"}),e.jsx(n,{value:"female",children:"Female"}),e.jsx(n,{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"joining_date",children:"Joining Date"}),e.jsx(o,{type:"date",id:"joining_date",value:i.joining_date,onChange:t=>r("joining_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"position",children:"Position"}),e.jsxs(p,{defaultValue:s.position,onValueChange:t=>r("position",t),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select a Position"})}),e.jsx(j,{children:e.jsxs(u,{children:[e.jsx(n,{value:"Owner",children:"Owner"}),e.jsx(n,{value:"Manager",children:"Manager"}),e.jsx(n,{value:"Trainer",children:"Trainer"}),e.jsx(n,{value:"Reception",children:"Reception"}),e.jsx(n,{value:"Guard",children:"Guard"}),e.jsx(n,{value:"House-Keeping",children:"House Keeping"}),e.jsx(n,{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"dob",children:"Date of Birth"}),e.jsx(o,{type:"date",id:"dob",value:i.dob,onChange:t=>r("dob",t.target.value)})]}),e.jsx("div",{children:e.jsx(D,{type:"submit",disabled:h,children:h?"Saving...":"Save"})})]})]})})},Z=P;export{Z as default};
