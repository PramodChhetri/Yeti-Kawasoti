import{W as b,r as d,j as e,b as C}from"./app-CeHawWK7.js";import{B as c}from"./button-CBFDvSSe.js";import{D as N,a as y,b as F,c as O,d as T,e as G}from"./dialog-vdBOxT0G.js";import{I as i}from"./input-iG9gLFRb.js";import{L as t}from"./label-DZHSVrJR.js";import{S as h,a as m,b as p,c as x,e as j,d as s}from"./select-CrO88sMk.js";import{S as I}from"./SingleImageUploader-DYwZ3WCh.js";import{t as g}from"./use-toast-TciExXPv.js";import{b as P}from"./utils-CRrpu23W.js";import{h as f}from"./moment-Cl4UOzQZ.js";import"./index-Clynsdhc.js";import"./index-Bb4qSo10.js";import"./index-DmAnl5gc.js";import"./index-B_ku7PSA.js";import"./index-DD1TA57H.js";import"./index-C9wzw3Ty.js";import"./x-CcTwlrmH.js";import"./createLucideIcon-T09ZsU69.js";import"./index-JWIwkwlr.js";import"./index-BBHitacn.js";import"./check-U2lRsC70.js";import"./InputError-B_B1jo66.js";const se=({refetch:u})=>{const{data:n,setData:r,reset:v}=b({name:"",phone:"",photo:null,gender:"male",joining_date:new Date,dob:new Date,position:"",is_active:1}),[E,l]=d.useState(!1),[S,o]=d.useState(!1),D=a=>{a.preventDefault(),console.log(n),l(!0),C.post("/staffs",n,{headers:{"Content-Type":"multipart/form-data"}}).then(w=>{g({description:"Staff Created successfully"}),v(),u(),o(!1)}).catch(w=>{g({description:"Failed to create staff"})}).finally(()=>{l(!1)})};return e.jsxs(N,{open:S,onOpenChange:o,children:[e.jsx(y,{children:e.jsx(c,{onClick:()=>o(!0),children:"Add New"})}),e.jsxs(F,{children:[e.jsxs(O,{children:[e.jsx(T,{children:"Add New"}),e.jsx(G,{children:"Add new staff member"})]}),e.jsxs("form",{className:"space-y-2",onSubmit:D,children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Name"}),e.jsx(i,{type:"text",id:"name",value:n.name,placeholder:"Enter the name of the new staff member",onChange:a=>r("name",P(a.target.value))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"phone",children:"Phone"}),e.jsx(i,{type:"tel",id:"phone",value:n.phone,placeholder:"Enter Staff's Phone",onChange:a=>r("phone",a.target.value),maxLength:10,minLength:10})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"gender",children:"Gender"}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select a Gender"})}),e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(s,{value:"male",children:"Male"}),e.jsx(s,{value:"female",children:"Female"}),e.jsx(s,{value:"other",children:"Other"})]})})]})]})]}),e.jsx(I,{onImageUpload:a=>r("photo",a),className:"grow min-h-32"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"position",children:"Position"}),e.jsxs(h,{onValueChange:a=>r("position",a),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select a Position"})}),e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(s,{value:"Owner",children:"Owner"}),e.jsx(s,{value:"Manager",children:"Manager"}),e.jsx(s,{value:"Trainer",children:"Trainer"}),e.jsx(s,{value:"Reception",children:"Reception"}),e.jsx(s,{value:"Guard",children:"Guard"}),e.jsx(s,{value:"House-Keeping",children:"House Keeping"}),e.jsx(s,{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"expiryDate",children:"Joining Date"}),e.jsx(i,{type:"date",onChange:a=>r("joining_date",f(a.target.value).format())})]}),e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"dob",children:"Date of Birth"}),e.jsx(i,{type:"date",onChange:a=>r("dob",f(a.target.value).format())})]})]}),e.jsx("div",{children:e.jsx(c,{type:"submit",children:"Save"})})]})]})]})};export{se as default};
