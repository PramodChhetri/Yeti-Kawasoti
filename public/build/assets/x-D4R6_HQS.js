import{r as a,b as v}from"./app-DxhgH9la.js";import{a as $}from"./index-mZgcqd2l.js";import{c as A}from"./index-CzHYO1du.js";import{c as E}from"./createLucideIcon-BCR1lBT3.js";function M(n,t){return a.useReducer((r,o)=>{const i=t[r][o];return i??r},n)}const h=n=>{const{present:t,children:r}=n,o=O(t),i=typeof r=="function"?r({present:o.isPresent}):a.Children.only(r),s=$(o.ref,i.ref);return typeof r=="function"||o.isPresent?a.cloneElement(i,{ref:s}):null};h.displayName="Presence";function O(n){const[t,r]=a.useState(),o=a.useRef({}),i=a.useRef(n),s=a.useRef("none"),N=n?"mounted":"unmounted",[l,c]=M(N,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const e=f(o.current);s.current=l==="mounted"?e:"none"},[l]),A(()=>{const e=o.current,u=i.current;if(u!==n){const p=s.current,d=f(e);n?c("MOUNT"):d==="none"||(e==null?void 0:e.display)==="none"?c("UNMOUNT"):c(u&&p!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),A(()=>{if(t){const e=m=>{const d=f(o.current).includes(m.animationName);m.target===t&&d&&v.flushSync(()=>c("ANIMATION_END"))},u=m=>{m.target===t&&(s.current=f(o.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:a.useCallback(e=>{e&&(o.current=getComputedStyle(e)),r(e)},[])}}function f(n){return(n==null?void 0:n.animationName)||"none"}/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=E("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);export{h as $,P as X};
