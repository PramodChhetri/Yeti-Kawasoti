import{r as u,W as S,j as e}from"./app-GgFLoYAH.js";import{I as t}from"./InputError-97B_a4lm.js";import{B as j}from"./button-BiqH3d5r.js";import{D as b,b as w,c as D,d as C,e as F}from"./dialog-ADOl-j88.js";import{I as d}from"./input-DS0YK0g0.js";import{L as i}from"./label-Mhc0LPc0.js";import{S as c,a as m,b as h,c as p,d as l}from"./select-DgvjX51k.js";import{S as I}from"./SingleImageUploader-BNO_4y_k.js";import{T as k}from"./textarea-DNzBGZs-.js";import{t as E}from"./use-toast-CRgGk0dw.js";import{b as x}from"./utils-C-Zvzyq5.js";import{c as V}from"./createLucideIcon-CxmtV3NG.js";import"./index-ClrB7sDw.js";import"./index-Bb4qSo10.js";import"./index-CV7mMyMG.js";import"./index-JWUtb-qc.js";import"./index-GknmoB8o.js";import"./index-Dr4bQ6Np.js";import"./x-DrxCXUfX.js";import"./index-DzSTJSMh.js";import"./index-vaZD_7eF.js";import"./check-Ds00oqYy.js";/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=V("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function ne({member:a,open:_,onClose:g}){u.useState(typeof a.photo=="string"?a.photo:"");const[M,f]=u.useState(!1),{data:o,setData:r,errors:n,processing:v,setError:P,post:y}=S({name:a.name,marital_status:a.marital_status,date_of_birth:a.date_of_birth,start_date:a.start_date,gender:a.gender,phone:a.phone,preferred_time:a.preferred_time,occupation:a.occupation,address:a.address,photo:null,payment_expiry_date:a.payment_expiry_date,remarks:a.remarks,emergency_person_name:a.emergency_person_name||"",emergency_person_phone:a.emergency_person_phone||""}),N=s=>{s.preventDefault(),f(!0),y(`/member/${a.id}`,{onSuccess:()=>{E({description:"Member updated successfully..."}),g()}})};return e.jsx(b,{open:_,onOpenChange:g,children:e.jsxs(w,{className:"max-w-2xl max-h-[99vh] overflow-auto",children:[e.jsxs(D,{children:[e.jsx(C,{children:"Edit Member Information"}),e.jsx(F,{children:"Efficiently manage and update membership details in this section"})]}),e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-3",children:[e.jsxs("div",{className:"col-span-full flex flex-col sm:flex-row gap-x-5 items-center",children:[e.jsx("div",{className:"relative size-36",onClick:()=>{var s;return(s=document.getElementById("photo-input"))==null?void 0:s.click()},children:e.jsx(I,{onImageUpload:s=>r("photo",s),imageView:"cover",currentImage:a.photo,className:"w-full min-w-[100px] h-full",required:!1})}),e.jsxs("div",{className:"grow w-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{message:n.photo}),e.jsx(i,{htmlFor:"name",children:"Name"}),e.jsx(d,{id:"name",name:"name",value:o.name,onChange:s=>r("name",x(s.target.value))}),e.jsx(t,{message:n.name})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-3 grow w-full",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"occupation",children:"Occupation"}),e.jsxs(c,{defaultValue:o.occupation,onValueChange:s=>r("occupation",s),children:[e.jsx(m,{id:"occupation",children:e.jsx(h,{placeholder:"Select occupation"})}),e.jsxs(p,{children:[e.jsx(l,{value:"private-job",children:"Private Job"}),e.jsx(l,{value:"government-job",children:"Government Job"}),e.jsx(l,{value:"business",children:"Business"}),e.jsx(l,{value:"student",children:"Student"}),e.jsx(l,{value:"housewife",children:"House Wife"}),e.jsx(l,{value:"other",children:"Other"})]})]}),e.jsx(t,{message:n.occupation,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"phone",children:"Phone Number"}),e.jsx(d,{id:"phone",name:"phone",value:o.phone,onChange:s=>r("phone",s.target.value),maxLength:10,minLength:10}),e.jsx(t,{message:n.phone})]})]})]})]}),e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"grid sm:grid-cols-3 gap-x-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"gender",children:"Gender"}),e.jsxs(c,{onValueChange:s=>r("gender",s),defaultValue:o.gender,children:[e.jsx(m,{children:e.jsx(h,{placeholder:"Please select Gender"})}),e.jsxs(p,{children:[e.jsx(l,{value:"male",children:"Male"}),e.jsx(l,{value:"female",children:"Female"}),e.jsx(l,{value:"other",children:"Other"})]})]}),e.jsx(t,{message:n.gender})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"marital_status",children:"Marital Status"}),e.jsxs(c,{onValueChange:s=>r("marital_status",s),defaultValue:o.marital_status,children:[e.jsx(m,{children:e.jsx(h,{placeholder:"Please select Marital Status"})}),e.jsxs(p,{children:[e.jsx(l,{value:"single",children:"Single"}),e.jsx(l,{value:"married",children:"Married"})]})]}),e.jsx(t,{message:n.marital_status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"preferred_time",children:"Preferred Shift"}),e.jsxs(c,{onValueChange:s=>r("preferred_time",s),children:[e.jsx(m,{children:e.jsx(h,{placeholder:"Select preferred shift"})}),e.jsxs(p,{children:[e.jsx(l,{value:"Morning",children:"Morning"}),e.jsx(l,{value:"Day",children:"Day"}),e.jsx(l,{value:"Evening",children:"Evening"})]})]}),e.jsx(t,{message:n.preferred_time,className:"mt-2"})]})]})}),e.jsxs("div",{className:"grid col-span-full sm:grid-cols-3 gap-x-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(d,{type:"date",id:"date_of_birth",defaultValue:new Date(o.date_of_birth).toISOString().split("T")[0],onChange:s=>r("date_of_birth",new Date(s.target.value))}),e.jsx(t,{message:n.date_of_birth})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"start_date",children:"Joining Date"}),e.jsx(d,{type:"date",id:"start_date",defaultValue:new Date(o.start_date).toISOString().split("T")[0],onChange:s=>r("start_date",new Date(s.target.value))}),e.jsx(t,{message:n.start_date})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"payment_expiry_date",children:"Payment Expiry Date"}),e.jsx(d,{type:"date",id:"payment_expiry_date",defaultValue:new Date(o.payment_expiry_date).toISOString().split("T")[0],onChange:s=>r("payment_expiry_date",new Date(s.target.value))}),e.jsx(t,{message:n.payment_expiry_date})]})]}),e.jsxs("div",{className:"grid col-span-full sm:grid-cols-2 gap-x-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"emergency_person_name",children:"Emergency Contact Person"}),e.jsx(d,{id:"emergency_person_name",name:"emergency_person_name",value:o.emergency_person_name,onChange:s=>r("emergency_person_name",x(s.target.value))}),e.jsx(t,{message:n.emergency_person_name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"emergency_person_phone",children:"Emergency Contact Phone"}),e.jsx(d,{id:"emergency_person_phone",name:"emergency_person_phone",value:o.emergency_person_phone,onChange:s=>r("emergency_person_phone",s.target.value),maxLength:10,minLength:10}),e.jsx(t,{message:n.emergency_person_phone})]})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(d,{id:"address",name:"address",value:o.address,onChange:s=>r("address",x(s.target.value))}),e.jsx(t,{message:n.address})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(i,{htmlFor:"remarks",children:"Remarks"}),e.jsx(k,{id:"remarks",placeholder:"Any remarks here...",name:"remarks",value:o.remarks,onChange:s=>r("remarks",s.target.value)}),e.jsx(t,{message:n.remarks})]}),e.jsx("div",{className:"col-span-full text-right",children:v?e.jsx(j,{disabled:!0,className:"w-full sm:w-fit",children:e.jsx(L,{className:"animate-spin"})}):e.jsx(j,{className:"w-full sm:w-fit",children:"Update"})})]})})]})})}export{ne as EditMemberDialog};
