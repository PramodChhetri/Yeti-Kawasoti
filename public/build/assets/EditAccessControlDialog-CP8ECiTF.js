import{r as h,W as j,j as e,y as g}from"./app-DxhgH9la.js";import{B as v}from"./button-CQRnvolg.js";import{D as f,a as S,b,c as w,d as y}from"./dialog-BxChAz8L.js";import{I as n}from"./input-DTs6kzBN.js";import{L as d}from"./label-BCYFEXFM.js";import{t as p}from"./use-toast-Tc-_Q_S1.js";import{S as C,a as N,b as D,c as E,e as F,d as c}from"./select-Kd40EoFx.js";import{P as _}from"./pencil-3W0DGAES.js";import"./index-CDna1s6C.js";import"./index-Bb4qSo10.js";import"./utils-C-Zvzyq5.js";import"./index-4JGS_wby.js";import"./index-mZgcqd2l.js";import"./index-CzHYO1du.js";import"./index-CirN_iVP.js";import"./x-D4R6_HQS.js";import"./createLucideIcon-BCR1lBT3.js";import"./index-CF3a9R0E.js";import"./index-CXOfu3wE.js";import"./check-eedJZ6Dw.js";const Z=({control:l})=>{const[m,o]=h.useState(!1),{data:a,setData:t,post:I,processing:i,reset:U,errors:r,clearErrors:x}=j({name:l.name,type:l.type,uuid:l.uuid,ip_address:l.ip_address.toString(),username:l.username,password:"",port:"80",description:l.description}),u=s=>{s.preventDefault(),x(),g.put(route("settings.updateAccessControl",l.id),{...a},{onSuccess:()=>{p({title:"Success",description:"Access Control updated successfully"}),o(!1),t("password","")},onError:()=>{p({title:"Error",description:"Failed to update Access Control",variant:"destructive"})}})};return e.jsxs(f,{open:m,onOpenChange:o,children:[e.jsx(S,{asChild:!0,children:e.jsx("button",{className:"text-sm me-5 text-muted-foreground flex gap-1",children:e.jsx(_,{size:15})})}),e.jsxs(b,{children:[e.jsx(w,{children:e.jsx(y,{children:"Update Access Control"})}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"type",children:"System Type"}),e.jsxs(C,{value:a.type,onValueChange:s=>t("type",s),children:[e.jsx(N,{children:e.jsx(D,{placeholder:"Select System Type"})}),e.jsx(E,{children:e.jsxs(F,{children:[e.jsx(c,{value:"public_url",children:"Public URL"}),e.jsx(c,{value:"isup",children:"ISUP"})]})})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",children:"Name"}),e.jsx(n,{id:"name",value:a.name,onChange:s=>t("name",s.target.value),placeholder:"Enter name",disabled:i}),r.name&&e.jsx("p",{className:"text-red-500 text-sm",children:r.name})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsx(d,{htmlFor:"ip_address",children:"IP Address"}),e.jsx(n,{id:"ip_address",value:a.ip_address,onChange:s=>t("ip_address",s.target.value),placeholder:"192.168.0.1",disabled:i}),r.ip_address&&e.jsx("p",{className:"text-red-500 text-sm",children:r.ip_address})]}),e.jsxs("div",{className:"grow max-w-28",children:[e.jsx(d,{htmlFor:"port",children:"Port"}),e.jsx(n,{id:"port",value:a.port,onChange:s=>t("port",s.target.value),placeholder:"80",type:"number",disabled:i}),r.port&&e.jsx("p",{className:"text-red-500 text-sm",children:r.port})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsx(d,{htmlFor:"username",children:"Username"}),e.jsx(n,{id:"username",value:a.username,onChange:s=>t("username",s.target.value),placeholder:"admin",disabled:i}),r.username&&e.jsx("p",{className:"text-red-500 text-sm",children:r.username})]}),e.jsxs("div",{className:"grow",children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsx(n,{id:"password",type:"text",value:a.password,onChange:s=>t("password",s.target.value),placeholder:"Enter password",disabled:i}),r.password&&e.jsx("p",{className:"text-red-500 text-sm",children:r.password})]})]}),a.type=="isup"&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"uuid",children:"UUID"}),e.jsx(n,{id:"uuid",type:"text",value:a.uuid,onChange:s=>t("uuid",s.target.value),placeholder:"Enter UUID",disabled:i}),r.uuid&&e.jsx("p",{className:"text-red-500 text-sm",children:r.uuid})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",children:"Description"}),e.jsx(n,{id:"description",value:a.description,onChange:s=>t("description",s.target.value),placeholder:"Description",disabled:i}),r.description&&e.jsx("p",{className:"text-red-500 text-sm",children:r.description})]}),e.jsx(v,{type:"submit",disabled:i,className:"w-full mt-4",children:i?"Saving...":"Save"})]})]})]})};export{Z as default};
