import{q as m,j as e,a as i,r as x,d as v}from"./app-HoDmrXNN.js";import{G as D}from"./GlobalLayout-irMQQyuT.js";import{C as N}from"./card-DJOBn3Fy.js";import{S as z,a as S,b as T}from"./sheet-DjBlWYzC.js";import{B as p}from"./button-BJi7Ukxl.js";import{c as r}from"./createLucideIcon-B5c7f2k6.js";import{j as L}from"./toaster-C-HwiJUl.js";import{D as f,a as u,b as g,g as t,c as q,d as A}from"./dropdown-menu-66TOR_NV.js";import{t as b}from"./use-toast-CIr2tFUS.js";import{D as U}from"./door-open-DpsNajMA.js";/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=r("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=r("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=r("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=r("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=r("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=r("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=r("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=r("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=r("RefreshCcwDot",[["path",{d:"M3 2v6h6",key:"18ldww"}],["path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8",key:"1pbrqz"}],["path",{d:"M21 22v-6h-6",key:"usdfbe"}],["path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7",key:"1hosoe"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=r("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=r("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=r("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=r("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=r("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),y=[{icon:E,text:"Dashboard",href:"/dashboard"},{icon:M,text:"Members",href:"/members"},{icon:P,text:"Requests",href:"/application-requests"},{icon:M,text:"Officials",href:"/staffs"},{icon:V,text:"Messaging",href:"/messenging"},{icon:Z,text:"Events",href:"/events"},{icon:O,text:"Transactions",href:"/transactions"},{icon:H,text:"Settings",href:"/settings"}],_=()=>{const{url:s}=m(),a=s,{props:o}=m();return e.jsx(N,{className:"hidden bg-card md:block rounded-none border-0 border-e",children:e.jsxs("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[e.jsx("div",{className:"flex h-14 items-center justify-between gap-4 border-b px-4 lg:h-[60px] lg:px-6",children:e.jsx(i,{href:"/",className:"flex items-center",children:e.jsx("span",{className:"font-bold drop-shadow-md capitalize text-sm",children:o.env.gymName})})}),e.jsx("div",{className:"flex-1",children:e.jsx("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4",children:y.map((n,h)=>e.jsxs(i,{href:n.href,className:`group flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all ${a.startsWith(n.href)?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[e.jsx(n.icon,{className:`h-4 w-4 ${a.startsWith(n.href)&&""}`}),n.text]},h))})})]})})},J=()=>(m(),e.jsxs(z,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(p,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),e.jsx(T,{side:"left",className:"flex flex-col",children:e.jsxs("nav",{className:"grid gap-2 text-lg font-medium",children:[e.jsxs(i,{href:"#",className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(G,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Acme Inc"})]}),y.map((s,a)=>e.jsxs(i,{href:s.href,className:"mx-[-0.65rem] flex items-center gap-4 rounded-xl px-3 py-2 text-muted-foreground hover:text-foreground",children:[e.jsx(s.icon,{className:"h-5 w-5"}),s.text]},a))]})})]})),K=()=>{var a;const{url:s}=m();return e.jsx("h2",{className:"w-full flex-1 font-semibold text-xl text-card-foreground",children:(a=y.find(o=>s.startsWith(o.href)))==null?void 0:a.text})};function Q(){const{setTheme:s}=L();return e.jsxs(f,{children:[e.jsx(u,{asChild:!0,children:e.jsxs(p,{className:"rounded-full bg-transparent hover:bg-transparent border-none text-card-foreground focus-visible:ring-0 focus-visible:outline-none",size:"icon",children:[e.jsx(W,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx($,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(g,{align:"end",children:[e.jsx(t,{onClick:()=>s("light"),children:"Light"}),e.jsx(t,{onClick:()=>s("dark"),children:"Dark"}),e.jsx(t,{onClick:()=>s("system"),children:"System"})]})]})}const X=({user:s})=>e.jsxs(f,{children:[e.jsx(u,{asChild:!0,children:e.jsxs(p,{variant:"secondary",size:"icon",className:"rounded-full",children:[e.jsx(B,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Toggle user menu"})]})}),e.jsxs(g,{align:"end",children:[e.jsx(q,{children:s.name}),e.jsx(A,{}),e.jsx(i,{href:"/profile",children:e.jsxs(t,{children:[e.jsx(F,{className:"size-4 mr-2"})," Profile"]})}),e.jsx(i,{href:route("logout"),children:e.jsxs(t,{children:[e.jsx(R,{className:"size-4 mr-2"})," Logout"]})})]})]}),Y=X;function ee(){const[s,a]=x.useState([]),[o,n]=x.useState(!0),[h,j]=x.useState(null),w=async l=>{var d,c;try{const k=await v.get(`/open-door/${l}`);b({title:"Success",description:"Device door opened successfully"})}catch(k){b({title:"Error",description:((c=(d=k.response)==null?void 0:d.data)==null?void 0:c.error)||"Failed to open the door. Please try again.",variant:"destructive"})}},C=async()=>{var l,d;try{n(!0),j(null);const c=await v.get("/get-all-devices");console.log(c.data),a(c.data||[])}catch(c){j(((d=(l=c.response)==null?void 0:l.data)==null?void 0:d.error)||"Failed to fetch devices.")}finally{n(!1)}};return x.useEffect(()=>{C()},[]),e.jsxs(f,{children:[e.jsx(u,{asChild:!0,children:e.jsx(p,{className:"rounded-full bg-transparent hover:bg-transparent border-none text-card-foreground focus-visible:ring-0 focus-visible:outline-none",size:"icon",children:e.jsx(U,{})})}),e.jsx(g,{align:"end",children:o?e.jsx(t,{children:"Loading devices..."}):h?e.jsx(t,{children:h}):s.length>0?s.map(l=>e.jsxs(t,{onClick:()=>w(l.id),children:["Open ",l.name]},l.id)):e.jsx(t,{children:"No devices found"})})]})}function he({user:s,header:a,children:o}){return e.jsx(D,{children:e.jsxs(N,{className:"grid h-screen w-full md:grid-cols-[200px_1fr] lg:grid-cols-[210px_1fr] overflow-hidden",children:[e.jsx(_,{}),e.jsxs("div",{className:"flex flex-col h-full overflow-auto",children:[e.jsxs("header",{className:"flex bg-card h-14 items-center gap-4 border-b p-4 lg:h-[60px] lg:px-6",children:[e.jsx(J,{}),e.jsx(K,{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{}),e.jsx(Q,{}),e.jsx(Y,{user:s})]})]}),e.jsx("main",{className:"flex flex-1 flex-col flex-grow h-full overflow-auto gap-4 p-4 lg:gap-6 lg:p-6",children:o})]})]})})}export{he as A};
