import{q as c,j as s,Y as N,a as d,y as w}from"./app-CeHawWK7.js";import{A as _}from"./AuthenticatedLayout-vtNVav6n.js";import{T as M,a as A,b as h,c as a,d as k,e as i}from"./table-B4ogmpzY.js";import{h as p}from"./moment-Cl4UOzQZ.js";import{B as l}from"./badge-BO37gUnS.js";import{B as x}from"./button-CBFDvSSe.js";import T from"./index-aGdi54or.js";import L from"./FilterPopover-CuY5IEcr.js";import{I as P}from"./input-iG9gLFRb.js";import"./GlobalLayout-Cfd5osqe.js";import"./toaster-B8JIrNCo.js";import"./index-B_ku7PSA.js";import"./index-DD1TA57H.js";import"./index-JWIwkwlr.js";import"./x-CcTwlrmH.js";import"./createLucideIcon-T09ZsU69.js";import"./index-Bb4qSo10.js";import"./utils-CRrpu23W.js";import"./use-toast-TciExXPv.js";import"./card-m7sUhe83.js";import"./sheet-BX0QfvEQ.js";import"./index-DmAnl5gc.js";import"./index-C9wzw3Ty.js";import"./dropdown-menu-d9Baeyf4.js";import"./index-BBHitacn.js";import"./index-CRFetRKe.js";import"./check-U2lRsC70.js";import"./door-open-DwydA0Yd.js";import"./index-Clynsdhc.js";import"./ViewMemberDialog-3349Gc4M.js";import"./dialog-vdBOxT0G.js";import"./member-service-BbLQRPB_.js";import"./DeleteMemberDialog-D6TS3P0e.js";import"./SendMessageDialog-_2LffC06.js";import"./textarea-CDpx1joq.js";import"./RenewPackageDialog-r2EwNoRB.js";import"./select-CrO88sMk.js";import"./label-DZHSVrJR.js";import"./InputError-B_B1jo66.js";import"./LockerDialog-Dun1l0qy.js";import"./EditLockerDialog-ktFzJ_yY.js";import"./EditMemberDialog-BqBblcEV.js";import"./SingleImageUploader-DYwZ3WCh.js";import"./MemberAccountsDialog-Dlwn4Uxu.js";import"./format-CE4V3joc.js";import"./ChangePackageDialog-mLU7szE_.js";import"./ExtendLocker-CCHAawwT.js";import"./AddCard-BdP7DlWn.js";import"./DeleteCard-Hvc7RTO7.js";import"./ellipsis-C43iJ8Cm.js";import"./popover-BfFK9Qtk.js";import"./segmented-control-BJ3PsD5-.js";import"./filter-DSXKKHjN.js";function Pt(){const{auth:j,members:o,accessControl:u,packages:g}=c().props,f={currentPage:o.current_page,links:o.links,total:o.total};c().url;const y=t=>{if(t.key==="Enter"){const r=t.target;return w.visit("/members?filter[search]="+r.value)}},v=new URLSearchParams(window.location.search);return s.jsxs(_,{user:j.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Members"}),children:[s.jsx(N,{title:"Members"}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center gap-2",children:[s.jsx("div",{className:"grow",children:s.jsx(P,{type:"search",placeholder:"Search Members Here...",onKeyDown:y,defaultValue:v.get("filter[search]")||""})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(L,{packages:g}),s.jsx(d,{href:"/members/create",children:s.jsx(x,{children:"Add Member"})})]})]}),s.jsxs(M,{children:[s.jsx(A,{children:s.jsxs(h,{children:[s.jsx(a,{children:"Member Image"}),s.jsx(a,{children:"Membership ID"}),s.jsx(a,{children:"Member Name"}),s.jsx(a,{children:"Phone"}),s.jsx(a,{children:"Joining Date"}),s.jsx(a,{children:"Payment Expiry Date"}),s.jsx(a,{children:"Membership Package"}),s.jsx(a,{children:"Status"}),s.jsx(a,{children:"Actions"})]})}),s.jsx(k,{children:o.data.map(t=>{var r,n,e;return s.jsxs(h,{children:[s.jsx(i,{children:s.jsx("img",{src:t==null?void 0:t.photo,className:"w-14 h-14 sm:w-10 sm:h-10 object-cover rounded-full border-2 border-primary p-0.5",alt:"Member"})}),s.jsx(i,{children:t==null?void 0:t.id}),s.jsx(i,{children:t==null?void 0:t.name}),s.jsx(i,{children:t==null?void 0:t.phone}),s.jsx(i,{children:t!=null&&t.start_date?p(t.start_date).format("LL"):"N/A"}),s.jsxs(i,{children:[t!=null&&t.payment_expiry_date?p(t.payment_expiry_date).format("LL"):"N/A",s.jsx("small",{className:"block text-muted-foreground font-bold",children:t!=null&&t.payment_expiry_date?p(t.payment_expiry_date).fromNow():""})]}),s.jsx(i,{children:((r=t==null?void 0:t.membership_package)==null?void 0:r.package_name)||"N/A"}),s.jsx(i,{children:((n=t==null?void 0:t.status)==null?void 0:n.toLowerCase())==="active"?s.jsx(l,{className:"bg-green-500 hover:bg-green-600",children:"Active"}):((e=t==null?void 0:t.status)==null?void 0:e.toLowerCase())==="unapproved"?s.jsx(l,{className:"bg-orange-500 hover:bg-orange-600",children:"Unapproved"}):s.jsx(l,{className:"bg-red-500 hover:bg-red-600",children:(t==null?void 0:t.status)||"Unknown"})}),s.jsx(i,{children:s.jsx(T,{member:t,accessControl:u})})]},t==null?void 0:t.id)})})]}),s.jsx("div",{className:"py-2 flex justify-end space-x-2",children:f.links.map((t,r)=>s.jsx(d,{href:t.url??"#",children:s.jsx(x,{disabled:t.active,variant:t.active?"default":"ghost",children:t.label.replace("&laquo;","«").replace("&raquo;","»")},r)},r))})]})]})}export{Pt as default};
