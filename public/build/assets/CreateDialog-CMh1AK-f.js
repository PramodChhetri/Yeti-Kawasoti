import{W as w,r as d,j as e,d as C}from"./app-GgFLoYAH.js";import{B as c}from"./button-BiqH3d5r.js";import{D as N,a as b,b as y,c as F,d as O,e as T}from"./dialog-ADOl-j88.js";import{I as o}from"./input-DS0YK0g0.js";import{L as t}from"./label-Mhc0LPc0.js";import{S as h,a as m,b as p,c as x,e as j,d as a}from"./select-DgvjX51k.js";import{S as G}from"./SingleImageUploader-BNO_4y_k.js";import{t as g}from"./use-toast-CRgGk0dw.js";import{b as I}from"./utils-C-Zvzyq5.js";import{h as P}from"./moment-Cl4UOzQZ.js";import"./index-ClrB7sDw.js";import"./index-Bb4qSo10.js";import"./index-CV7mMyMG.js";import"./index-JWUtb-qc.js";import"./index-GknmoB8o.js";import"./index-Dr4bQ6Np.js";import"./x-DrxCXUfX.js";import"./createLucideIcon-CxmtV3NG.js";import"./index-DzSTJSMh.js";import"./index-vaZD_7eF.js";import"./check-Ds00oqYy.js";import"./InputError-97B_a4lm.js";const ae=({refetch:f})=>{const{data:i,setData:r,reset:u}=w({name:"",phone:"",photo:null,gender:"male",joining_date:new Date,position:"",is_active:1}),[E,l]=d.useState(!1),[v,n]=d.useState(!1),S=s=>{s.preventDefault(),console.log(i),l(!0),C.post("/staffs",i,{headers:{"Content-Type":"multipart/form-data"}}).then(D=>{g({description:"Staff Created successfully"}),u(),f(),n(!1)}).catch(D=>{g({description:"Failed to create staff"})}).finally(()=>{l(!1)})};return e.jsxs(N,{open:v,onOpenChange:n,children:[e.jsx(b,{children:e.jsx(c,{onClick:()=>n(!0),children:"Add New"})}),e.jsxs(y,{children:[e.jsxs(F,{children:[e.jsx(O,{children:"Add New"}),e.jsx(T,{children:"Add new staff member"})]}),e.jsxs("form",{className:"space-y-2",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Name"}),e.jsx(o,{type:"text",id:"name",value:i.name,placeholder:"Enter the name of the new staff member",onChange:s=>r("name",I(s.target.value))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"phone",children:"Phone"}),e.jsx(o,{type:"tel",id:"phone",value:i.phone,placeholder:"Enter Staff's Phone",onChange:s=>r("phone",s.target.value),maxLength:10,minLength:10})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"gender",children:"Gender"}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select a Gender"})}),e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{value:"male",children:"Male"}),e.jsx(a,{value:"female",children:"Female"}),e.jsx(a,{value:"other",children:"Other"})]})})]})]})]}),e.jsx(G,{onImageUpload:s=>r("photo",s),className:"grow min-h-32"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"position",children:"Position"}),e.jsxs(h,{onValueChange:s=>r("position",s),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select a Position"})}),e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{value:"Owner",children:"Owner"}),e.jsx(a,{value:"Manager",children:"Manager"}),e.jsx(a,{value:"Trainer",children:"Trainer"}),e.jsx(a,{value:"Reception",children:"Reception"}),e.jsx(a,{value:"Guard",children:"Guard"}),e.jsx(a,{value:"House-Keeping",children:"House Keeping"}),e.jsx(a,{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"expiryDate",children:"Joining Date"}),e.jsx(o,{type:"date",onChange:s=>r("joining_date",P(s.target.value).format())})]})]}),e.jsx("div",{children:e.jsx(c,{type:"submit",children:"Save"})})]})]})]})};export{ae as default};
