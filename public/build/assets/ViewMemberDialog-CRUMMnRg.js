import{j as e,r as N,y as v}from"./app-GgFLoYAH.js";import{B as t}from"./badge-stK5yr_a.js";import{B as d}from"./button-BiqH3d5r.js";import{C as a,a as c,b as o,d as l}from"./card-Cdkcj2Gi.js";import{D as x,b as m,e as h,c as u,a as k,d as D,f as b}from"./dialog-ADOl-j88.js";import{t as _}from"./use-toast-CRgGk0dw.js";import{g as w}from"./member-service-BwcZxyWF.js";import{h as p}from"./moment-Cl4UOzQZ.js";import"./index-Bb4qSo10.js";import"./utils-C-Zvzyq5.js";import"./index-ClrB7sDw.js";import"./index-CV7mMyMG.js";import"./index-JWUtb-qc.js";import"./index-GknmoB8o.js";import"./index-Dr4bQ6Np.js";import"./x-DrxCXUfX.js";import"./createLucideIcon-CxmtV3NG.js";function G({member:s,open:j,onClose:r}){const n=w(s),g=()=>{const[f,i]=N.useState(!1);return e.jsxs(x,{open:f,onOpenChange:i,children:[e.jsx(k,{children:e.jsx(d,{variant:"link",className:"text-muted-foreground",children:"Unassign"})}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(D,{children:"Are you sure to unassign the locker?"}),e.jsx(h,{children:"Unassigning the locker will allow you to assign it to another member."})]}),e.jsxs(b,{children:[e.jsx(d,{variant:"secondary",onClick:r,children:"Cancel"}),e.jsx(d,{variant:"destructive",onClick:()=>{v.delete(route("locker.delete",s.id),{onSuccess:()=>{_({description:"Locker unassigned successfully..."}),r(),i(!1)}})},children:"Unassign"})]})]})]})};return e.jsx(x,{open:j,onOpenChange:r,children:e.jsx(m,{className:"max-w-[880px] max-h-[99vh] overflow-auto",children:e.jsxs(a,{className:"bg-transparent border-none shadow-none",children:[e.jsxs(c,{className:"py-0 pb-2 text-center",children:[e.jsx(o,{children:s.name}),e.jsx(h,{children:s.address})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("img",{src:s.photo,className:"max-w-full max-h-48 mx-auto rounded-lg"})}),e.jsx(u,{className:"m-0 col-span-4",children:e.jsx(a,{className:"border-none shadow-none",children:e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Phone:"}),e.jsx("span",{className:"text-card-foreground",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Gender:"}),e.jsx("span",{className:"text-card-foreground",children:s.gender})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Marital Status:"}),e.jsx("span",{className:"text-card-foreground",children:s.marital_status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"DOB:"}),e.jsx("span",{className:"text-card-foreground",children:new Date(s.date_of_birth).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Preferred Time:"}),e.jsx("span",{className:"text-card-foreground",children:s.preferred_time})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Occupation:"}),e.jsx("span",{className:"text-card-foreground",children:s.occupation})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Emergency Contact Person:"}),e.jsx("span",{className:"text-card-foreground",children:s.emergency_person_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground me-2",children:"Emergency Contact Number:"}),e.jsx("span",{className:"text-card-foreground",children:s.emergency_person_phone})]})]})})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsxs(a,{className:"bg-muted h-full",children:[e.jsx(c,{className:"pb-1 text-center",children:e.jsx(o,{className:"text-start text-lg pb-0",children:"Membership Information"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Package Name:"}),e.jsx("span",{className:"text-card-foreground",children:s.membership_package.package_name})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Expiry Date:"}),e.jsx("span",{className:"text-card-foreground",children:p(new Date(s.payment_expiry_date)).format("MMM Do YYYY")})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Subscription Status:"}),e.jsx("span",{className:"text-card-foreground",children:e.jsx(t,{variant:n.variant,className:n.className,children:n.text})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Card Number:"}),e.jsx(t,{variant:"default",children:s.card_number})]})]})]})}),s.locker&&e.jsx("div",{children:e.jsxs(a,{className:"bg-muted h-full",children:[e.jsx(c,{className:"pb-1 text-center",children:e.jsxs(o,{className:"text-lg flex justify-between",children:[e.jsx("span",{children:"Locker Information"}),e.jsx(g,{})]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"mb-2 mr-6",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Locker Number:"}),e.jsx("span",{className:"text-card-foreground",children:s.locker.locker_number})]}),e.jsxs("div",{className:"mb-2 mr-6",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Assigned Till:"}),e.jsx("span",{className:"text-card-foreground",children:p(new Date(s.locker.end_date)).format("MMM Do YYYY")})]}),e.jsxs("div",{className:"mb-2 mr-6",children:[e.jsx("span",{className:"font-semibold text-muted-foreground mr-2",children:"Locker Status:"}),e.jsx(t,{variant:new Date(s.locker.end_date)<new Date?"destructive":s.locker.locker_status===1?"default":"destructive",children:new Date(s.locker.end_date)<new Date?"Expired":s.locker.locker_status===1?"Active":"Inactive"})]})]})]})})]}),(s==null?void 0:s.remarks)&&s.remarks.length>0&&e.jsxs("div",{className:"mb-2 mr-6 bg-card/30 p-3 rounded shadow-sm",children:[e.jsx("span",{className:"text-muted-foreground font-bold",children:"Remarks"}),e.jsx("div",{className:"text-card-foreground text-sm",children:s.remarks})]})]})})})}export{G as ViewMemberDialog};
