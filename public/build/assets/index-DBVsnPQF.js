import{r as d,j as e,Y as _,y}from"./app-CeHawWK7.js";import{A}from"./AuthenticatedLayout-vtNVav6n.js";import{C,a as M,b as N,c as R,d as h}from"./card-m7sUhe83.js";import{T as x,a as p,b as n,c as i,d as j,e as s}from"./table-B4ogmpzY.js";import{T as v,a as w,b as l}from"./tabs-BAfxlyZP.js";import{L as D}from"./loader-CXcPzvqp.js";import k from"./RenewalApprovalBlock-CzVSUbFT.js";import P from"./RegistrationApprovalBlock-DDZevODO.js";import f from"./RejectionBlock-BbC_zt1h.js";import{f as m}from"./format-CE4V3joc.js";import"./GlobalLayout-Cfd5osqe.js";import"./toaster-B8JIrNCo.js";import"./index-B_ku7PSA.js";import"./index-DD1TA57H.js";import"./index-JWIwkwlr.js";import"./x-CcTwlrmH.js";import"./createLucideIcon-T09ZsU69.js";import"./index-Bb4qSo10.js";import"./utils-CRrpu23W.js";import"./use-toast-TciExXPv.js";import"./sheet-BX0QfvEQ.js";import"./index-DmAnl5gc.js";import"./index-C9wzw3Ty.js";import"./button-CBFDvSSe.js";import"./index-Clynsdhc.js";import"./dropdown-menu-d9Baeyf4.js";import"./index-BBHitacn.js";import"./index-CRFetRKe.js";import"./check-U2lRsC70.js";import"./door-open-DwydA0Yd.js";import"./dialog-vdBOxT0G.js";import"./select-CrO88sMk.js";import"./input-iG9gLFRb.js";import"./label-DZHSVrJR.js";import"./InputError-B_B1jo66.js";import"./popover-BfFK9Qtk.js";import"./circle-check-big-Ctyzl1ia.js";function ue({auth:t,applications:r,activeTab:g}){const[a,u]=d.useState(g||"registration_applications"),[b,o]=d.useState(!0),T=c=>{o(!0),u(c),y.get(route("applications.index"),{tab:c},{onFinish:()=>o(!1)})};return d.useEffect(()=>{o(!1)},[]),e.jsxs(A,{user:t.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Applications"}),children:[e.jsx(_,{title:"Applications"}),e.jsxs(C,{children:[e.jsx(M,{className:"flex justify-between flex-row",children:e.jsxs("div",{children:[e.jsx(N,{children:"Applications"}),e.jsx(R,{children:"View and manage gym applications"})]})}),e.jsx(h,{children:e.jsxs(v,{value:a,onValueChange:T,children:[e.jsxs(w,{children:[e.jsx(l,{value:"registration_applications",children:"Registration Applications"}),e.jsx(l,{value:"renewal_applications",children:"Renewal Applications"})]}),b?e.jsx("div",{className:"flex justify-center items-center my-10",children:e.jsx(D,{size:"lg"})}):e.jsxs(e.Fragment,{children:[a==="registration_applications"&&S(r),a==="renewal_applications"&&L(r)]})]})})]})]})}function S(t){return e.jsx("div",{children:e.jsxs(x,{children:[e.jsx(p,{children:e.jsxs(n,{children:[e.jsx(i,{children:"Image"})," ",e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Phone"}),e.jsx(i,{children:"Occupation"}),e.jsx(i,{children:"Gender"}),e.jsx(i,{children:"Date of Birth"}),e.jsx(i,{children:"Address"}),e.jsx(i,{children:"Package"}),e.jsx(i,{children:"Duration"}),e.jsx(i,{})]})}),e.jsx(j,{children:t.data.length>0?t.data.map(r=>e.jsxs(n,{children:[e.jsx(s,{children:e.jsx("img",{src:r.photo,className:"w-14 h-14 object-cover rounded-full border-2 border-primary p-0.5"})}),e.jsx(s,{children:r.name}),e.jsx(s,{children:r.phone}),e.jsx(s,{children:r.occupation}),e.jsx(s,{children:r.gender.charAt(0).toUpperCase()+r.gender.slice(1)}),e.jsx(s,{children:new Date(r.date_of_birth).toLocaleDateString()}),e.jsx(s,{children:r.address}),e.jsx(s,{children:r.membership_package.package_name}),e.jsxs(s,{children:[r.months," Months"]}),e.jsxs(s,{children:[e.jsx(P,{application:r}),e.jsx(f,{rejectionType:"admission",applicationId:r.id})]})]},r.id)):e.jsx(n,{children:e.jsx(s,{className:"text-center",colSpan:100,children:"No applications found."})})})]})})}function L(t){return e.jsx(h,{children:e.jsxs(x,{children:[e.jsx(p,{children:e.jsxs(n,{children:[e.jsx(i,{}),e.jsx(i,{children:"Member Name"}),e.jsx(i,{children:"Membership Package"}),e.jsx(i,{children:"Is Expiring On"}),e.jsx(i,{children:"Months"}),e.jsx(i,{children:"Submitted On"}),e.jsx(i,{children:"Payment Proof"}),e.jsx(i,{})]})}),e.jsx(j,{children:t.data.length>0?t.data.map(r=>e.jsxs(n,{children:[e.jsx(s,{children:e.jsx("img",{src:r.member.photo,className:"size-16 min-w-16 object-cover rounded-full border-2 border-primary p-0.5"})}),e.jsx(s,{children:r.member.name}),e.jsx(s,{children:r.member.membership_package.package_name}),e.jsx(s,{children:m(new Date(r.member.payment_expiry_date),"MMMM d")}),e.jsxs(s,{children:[r.months," Months"]}),e.jsx(s,{children:m(new Date(r.created_at),"MMMM d 'at' h:mm aaa")}),e.jsx(s,{children:r.payment_proof_path?e.jsx("a",{href:r.payment_proof_path,target:"_blank",rel:"noopener noreferrer",children:"View Payment Proof"}):e.jsx("span",{className:"text-muted-foreground",children:"Not Available"})}),e.jsxs(s,{children:[e.jsx(k,{application:r}),e.jsx(f,{rejectionType:"renewal",applicationId:r.id})]})]},r.id)):e.jsx(n,{children:e.jsx(s,{className:"text-center",colSpan:100,children:"No Renewal Applications found."})})})]})})}export{ue as default};
