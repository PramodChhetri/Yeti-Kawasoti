import{W as y,r as b,j as e,d as C}from"./app-DxhgH9la.js";import{B as D}from"./button-CQRnvolg.js";import{I as l}from"./input-DTs6kzBN.js";import{L as a}from"./label-BCYFEXFM.js";import{S as p,a as m,b as x,c as j,e as u,d as s}from"./select-Kd40EoFx.js";import{S as F,b as _,c as E,d as G,e as L}from"./sheet-Cf9Z4Dtw.js";import{t as g}from"./use-toast-Tc-_Q_S1.js";import{b as M}from"./utils-C-Zvzyq5.js";import{h as O}from"./moment-Cl4UOzQZ.js";import"./index-CDna1s6C.js";import"./index-Bb4qSo10.js";import"./index-mZgcqd2l.js";import"./index-CzHYO1du.js";import"./index-CF3a9R0E.js";import"./index-CXOfu3wE.js";import"./index-CirN_iVP.js";import"./createLucideIcon-BCR1lBT3.js";import"./check-eedJZ6Dw.js";import"./index-4JGS_wby.js";import"./x-D4R6_HQS.js";const P=({refetch:f,official:r,onClose:d})=>{const{data:i,setData:n,reset:v}=y({name:r.name,phone:r.phone,photo:null,gender:r.gender,joining_date:O(r.joining_date).format("YYYY-MM-DD"),is_active:1,position:""}),[h,c]=b.useState(!1),S=t=>{t.preventDefault(),c(!0),C.post(`/staffs/${r.id}`,i,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{g({description:"Staff updated successfully"}),v(),f(),d()}).catch(o=>{g({description:"Failed to update staff"})}).finally(()=>{c(!1)})};return e.jsx(F,{open:!0,onOpenChange:d,children:e.jsxs(_,{children:[e.jsxs(E,{children:[e.jsx(G,{children:"Edit Staff"}),e.jsx(L,{children:"Customize the staff as per your choice"})]}),e.jsxs("form",{className:"space-y-2",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(l,{type:"text",id:"name",value:i.name,onChange:t=>n("name",M(t.target.value))})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"phone",children:"Phone"}),e.jsx(l,{type:"tel",id:"phone",value:i.phone,onChange:t=>n("phone",t.target.value),maxLength:10,minLength:10})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(a,{htmlFor:"photo",children:"Photo"}),e.jsx("span",{className:"text-muted-foreground text-xs font-bold",children:"Leave as it is to keep unchanged"})]}),e.jsx(l,{type:"file",id:"photo",accept:"image/*",onChange:t=>{var o;(o=t.target.files)!=null&&o.length?n("photo",t.target.files[0]):n("photo",null)}})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"gender",children:"Gender"}),e.jsxs(p,{defaultValue:r.gender,onValueChange:t=>n("gender",t),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select a Gender"})}),e.jsx(j,{children:e.jsxs(u,{children:[e.jsx(s,{value:"male",children:"Male"}),e.jsx(s,{value:"female",children:"Female"}),e.jsx(s,{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"joining_date",children:"Joining Date"}),e.jsx(l,{type:"date",id:"joining_date",value:i.joining_date,onChange:t=>n("joining_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"position",children:"Position"}),e.jsxs(p,{onValueChange:t=>n("position",t),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select a Position"})}),e.jsx(j,{children:e.jsxs(u,{children:[e.jsx(s,{value:"Owner",children:"Owner"}),e.jsx(s,{value:"Manager",children:"Manager"}),e.jsx(s,{value:"Trainer",children:"Trainer"}),e.jsx(s,{value:"Reception",children:"Reception"}),e.jsx(s,{value:"Guard",children:"Guard"}),e.jsx(s,{value:"House-Keeping",children:"House Keeping"}),e.jsx(s,{value:"other",children:"Other"})]})})]})]}),e.jsx("div",{children:e.jsx(D,{type:"submit",disabled:h,children:h?"Saving...":"Save"})})]})]})})},Z=P;export{Z as default};
